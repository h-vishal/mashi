<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="robots" content="noindex,nofollow" />
<title>presentation: mashi project</title>
<style type="text/css" media="screen">
@import url( ../stylesheets/style.css );
@import url( ../stylesheets/mashi.css );
</style>
<script type="text/javascript" src="../javascripts/mashi.js"></script>
<!--[if IE 6]>
	<link rel="stylesheet" type="text/css" href="../stylesheets/ie_png_fix.css" />
	<link rel="stylesheet" type="text/css" href="../stylesheets/mashi_ie6.css" />
<![endif]-->
<!--[if IE 7]>
	<link rel="stylesheet" type="text/css" href="../stylesheets/mashi_ie7.css" />
<![endif]-->
<script type="text/javascript">
/* <![CDATA[ */

var DISPLAY = new mashi.application();

/* required modules */
mashi.require('mashi.controls');
//mashi.require('mashi.object.move');
mashi.require('mashi.slideshow.create');
// mashi.require('mashi.preloader');

mashi.require('presentation.mashi_presentation');


// http://ejohn.org/blog/getelementsbyclassname-speed-comparison/
function getElementsByClass(searchClass,node,tag) {
  var classElements = new Array();
  if ( node == null ) node = document;
  if ( tag == null ) tag = '*';
  var els = node.getElementsByTagName(tag);
  var elsLen = els.length;
  var pattern = new RegExp("(^|\\s)"+searchClass+"(\\s|$)");
  for (i = 0, j = 0; i < elsLen; i++) {
    if ( pattern.test(els[i].className) ) {
      classElements[j] = els[i];
      j++;
    }
  }
  return classElements;
}

function popup(url) {
	window.open(url,'','fullscreen=yes, scrollbars=auto');
}

function getHash() {
  var hash = window.location.hash;
  return hash.substring(1); // remove #
}
 
function getLinkTarget(link) {
  return link.href.substring(link.href.indexOf('#')+1);
}

window.onload = function() {
    DISPLAY.config({
        meta: {
        	namespace: 'DISPLAY'
		},
		animation: {
	        start: true
		},
		buttons: {
			type: 'slideshow'
		}
    });

	var sheight, swidth, melem = getElementsByClass('mashi');
	if(getHash() == 'fullscreen') {
		sheight = 120;
		document.getElementById('fullscreen').style.display = 'none';
	}
	else {
		sheight = 220;
	}
	for (var i = 0; i < melem.length; i++) {
		melem[i].style.width = screen.width - 16 + 'px'; 
		melem[i].style.height = screen.height - sheight + 'px'; 
	}

}

/* ]]> */
</script>
<style type="text/css">
#textframe {
	padding-top: 2.4em;
}	
#textframe * {
	width: 750px;
}	
#textframe h2 {
	padding-top: 2.7em;
	font-size: 3em;
}	
#textframe p {
	font-size: 2.3em;
	letter-spacing: 0.07em;
}	
a#fullscreen {
	position: absolute;
	bottom: 7px;
	right: 12px;
	z-index: 1000;
}	
</style>
</head>
<body>
	<div id="DISPLAY" class="mashi"></div>
	<a id="fullscreen" href="javascript:popup('about_mashi.htm#fullscreen');">fullscreen</a>
</body>
</html>
